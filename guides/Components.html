<!DOCTYPE html>

<!--[if lt IE 7]>
<html class="no-js ie lt-ie9 lt-ie8 lt-ie7" lang="en">
<![endif]-->
<!--[if IE 7]>
<html class="no-js ie lt-ie9 lt-ie8" lang="en">
<![endif]-->
<!--[if IE 8]>
<html class="no-js ie lt-ie9" lang="en">
<![endif]-->
<!--[if IE 9]>
<html class="no-js ie ie9" lang="en">
<![endif]-->
<!--[if gt IE 9]><!-->
<html class="no-js" lang="en">
<!--<![endif]-->
<head>
	<meta charset="utf-8">
	<title>CanJS - Getting to Know Components </title>
	<meta name="description" content="">
	<meta name="author" content="">

	
	<link rel="stylesheet" type="text/css" href="./static/bundles/static.css">
	
	<!--[if lt IE 9]>
   <script type="text/javascript" src="static/html5shiv.js"></script>
    <!--<![endif]-->
</head>

<body class="docs ">
	<header>
		<nav class="container">

			<div class="logo-menu">
				<a class="brand" href="../index.html">CanJS</a>
				<ul class="dropdown-menu">
		          <li><a href="http://javascriptmvc.com">JavaScriptMVC</a></li>
		          <li><a href="http://canjs.com" class="active">CanJS</a></li>
		          <li><a href="http://jquerypp.com">jQuery++</a></li>
		          <li><a href="http://stealjs.com">StealJS</a></li>
		          <li><a href="http://funcunit.com">FuncUnit</a></li>
		          <li><a href="http://documentjs.com">DocumentJS</a></li>
		        </ul>
			</div>
			
			<ul class="nav">
		        <li >
	              <a href="../index.html">Home</a>
                </li>
		       <li class='active'><a href='index.html'>guides</a></li>
		       <li><a href='../docs/index.html'>api</a></li>
		        <li class=" community-menu">
		          <a href="../community.html#!forums">Community</a>
		          <ul class="dropdown-menu">
		            <li><a href="https://forum.javascriptmvc.com/canjs">Forums</a></li>
		            <li><a href="http://webchat.freenode.net/?channels=canjs">IRC</a></li>
		            <li><a href="http://bitovi.bithub.com/canjs/app/">Apps</a></li>
		            <li><a href="http://bitovi.bithub.com/canjs/plugin/">Plugins</a></li>
		            <li><a href="http://bitovi.bithub.com/canjs/article/">Articles</a></li>
		            <li><a href="http://github.com/bitovi/canjs">Github</a></li>
		            <li><a href="http://twitter.com/canjs">Twitter</a></li>
		            <li><a href="http://bitovi.github.io/canjsmeetup/">Meetups</a></li>
		          </ul>
		        </li>
		        <li >
	              <a href="../blog/index.html">Blog</a>
                </li>
		        <li >
	              <a href="../download.html">Download</a>
                </li>
	      	</ul>
			
			<div class="pull-right">
				<div class="bitovi-menu">
					<a href="http://bitovi.com" class="bitovi icon-bits">Bitovi</a>
					<ul class="dropdown-menu">
						<li><a href="http://bitovi.com">Bitovi.com</a></li>
						<li><a href="http://bitovi.com/blog/">Blog</a></li>
						<li><a href="http://bitovi.com/design/">Design</a></li>
						<li><a href="http://bitovi.com/development/">Development</a></li>
						<li><a href="http://bitovi.com/training/">Training</a></li>
						<li><a href="http://bitovi.com/open-source/">Open Source</a></li>
						<li><a href="http://bitovi.com/people/">People</a></li>
						<li><a href="http://bitovi.com/contact/">Contact Us</a></li>
					</ul>
				</div>
			</div>
			
		</nav>
	</header>

	
<div class="container api">

	
	<nav class="sidebar">
		
		<h2 id="version">
	<select id='versions'></select>
</h2>
<ul class="api">
	<!-- First Level -->
	
	   <li class="search-container">
	   		<a href="Why.html" data-search="Why CanJS?">
				Why CanJS?
			</a>
			
	   </li>
	
	   <li class="search-container">
	   		<a href="Using.html" data-search="Setting up CanJS">
				Setting up CanJS
			</a>
			
	   </li>
	
	   <li class="search-container active">
	   		<a href="Tutorial.html" data-search="Getting Started Tutorial">
				Getting Started Tutorial
			</a>
			
				
	<ul class="primary-grouping">
		
			
				
				
					<li class="search-container  ">
						<a 	class="page" 
							href="Setup.html" 
							data-search="Setup">
							Setup
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="page" 
							href="ApplicationFoundations.html" 
							data-search="Application Foundations">
							Application Foundations
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container active  expanded">
						<a 	class="page" 
							href="Components.html" 
							data-search="Getting to Know Components">
							Getting to Know Components
						</a>
						
							
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="page" 
							href="MoreOnComponents.html" 
							data-search="More on Components">
							More on Components
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="page" 
							href="Models.html" 
							data-search="Models (&amp; Fixtures)">
							Models (&amp; Fixtures)
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="page" 
							href="SendingDataToAService.html" 
							data-search="Sending Data to a Service">
							Sending Data to a Service
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="page" 
							href="CreatingTheMenuComponent.html" 
							data-search="Creating the Menu Component">
							Creating the Menu Component
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="page" 
							href="AppState.html" 
							data-search="App State &amp; Basic Routing">
							App State &amp; Basic Routing
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="page" 
							href="Define.html" 
							data-search="The Define Plugin">
							The Define Plugin
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="page" 
							href="Routing.html" 
							data-search="Route Formatting &amp; Serialization">
							Route Formatting &amp; Serialization
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="page" 
							href="Recap.html" 
							data-search="Recap">
							Recap
						</a>
						
					</li>
				
			
			
		
	</ul>

			
	   </li>
	
	   <li class="search-container">
	   		<a href="Recipes.html" data-search="Recipes">
				Recipes
			</a>
			
	   </li>
	
	   <li class="search-container">
	   		<a href="contributing.html" data-search="How to Contribute">
				How to Contribute
			</a>
			
	   </li>
	
	   <li class="search-container">
	   		<a href="changelog.html" data-search="Changelog">
				Changelog
			</a>
			
	   </li>
	
	   <li class="search-container">
	   		<a href="license.html" data-search="License">
				License
			</a>
			
	   </li>
	
	   <li class="search-container">
	   		<a href="migrating.html" data-search="Migrating to 2.0">
				Migrating to 2.0
			</a>
			
	   </li>
	
	   <li class="search-container">
	   		<a href="roadmap.html" data-search="Roadmap">
				Roadmap
			</a>
			
	   </li>
	
</ul>
	</nav>
	
	
	
	<article class="content docs">
	
	
		
		<section class="title">
			<div class="heading">
<h1>Getting to Know Components</h1>
	<ul class="tags">
		<li>page</li>
	</ul>
	
	
</div>

<div class="sub-heading">
	
	
		<span class="module">Components</span>
	
	
	
	<span class="inherits">&nbsp;</span>
</div>

<ul class="links">
	
	
		<li><a href="/Users/akagomez/Sites/bitovi/canjs">source</a></li>
	
	
	
</ul>
<br />
		</section>
		
		
		
		<section class="contents">
		</section>
		
		
		

		

		
			
		
		
		
		

		
		<section class="comment">
			<div class="getting-started">
<hr />
<p><strong>In this Chapter</strong></p>
<ul>
<li>Constructors in CanJS</li>
<li>The <code>extend</code> function</li>
<li>The <code>init</code> function</li>
<li>First can.Component</li>
<li>Auto Instantiation</li>
<li>Anatomy of a can.Component</li>
</ul>
<p>Get the code for: <a href="https://github.com/bitovi/canjs/blob/guides-overhaul/guides/examples/PlaceMyOrder/ch-2_canjs-getting-started.zip?raw=true">chapter 2</a></p>
<hr />
<p><a name="first-component"></a></p>
<h2>First can.Component</h2>
<p>If you recall from the introduction, a <a href="../docs/can.Component.html">can.Component</a> is like a self-contained,
mini web application—i.e., it's encapsulated. Because <code>can.Component</code>'s are
encapsulated, they should each contain their own:</p>
<ul>
<li>View template file (.stache file)</li>
<li>JavaScript file</li>
<li>CSS file</li>
</ul>
<p>This is why we created a <code>components</code> folder for our app — instead of, say, a
<code>js</code> folder. Each component we develop will be in a folder that contains all
the files that support that component. This makes components portable,
enabling you to reuse them across projects. It also isolates them, making
them easier to test and maintain.</p>
<p>In the components folder, create a subfolder called <code>restaurant_list</code>, along with the following files:</p>
<pre>
└── restaurant_list
    ├── restaurant_list.js
    └── restaurant_list.stache
</pre>
<p>Let's dive in to the good stuff, and start working with the app! Put the following code inside <code>restaurant_list.js</code>:</p>
<pre><code>can.Component.extend({
  tag: 'restaurant-list',
  template: can.view('components/restaurant_list/restaurant_list.stache'),
  scope: {
    currentRestaurant: 'Hello Restaurant Customer'
  }
});
</code></pre>
<p>Add the following code to <code>restaurant_list.stache</code>:</p>
<pre><code>&lt;h1&gt;{{currentRestaurant}}&lt;/h1&gt;
</code></pre>
<p>Add the code below to the <code>app/base_template.stache</code> file:</p>
<pre><code>&lt;restaurant-list&gt;&lt;/restaurant-list&gt;
</code></pre>
<p>Next, open up your <code>app.js</code> file, and edit it as follows:</p>
<pre><code>$(function () {
  $('#can-app').html(can.view('base_template.stache', {}));
});
</code></pre>
<p>For the moment, if you don't know what <code>can.view</code> does, don't worry. We'll
go over it in detail soon.</p>
<p>Finally, we need to add a reference to <code>restaurant_list.js</code> in the
index.html file, as follows:</p>
<pre><code>&lt;script src=&quot;libs/jquery.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;libs/can.custom.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;libs/can.fixture.js&quot;&gt;&lt;/script&gt;
&lt;!--Begin add--&gt;
&lt;script src=&quot;components/restaurant_list/restaurant_list.js&quot;&gt;&lt;/script&gt;
&lt;!--End add--&gt;
&lt;script src=&quot;app.js&quot;&gt;&lt;/script&gt;
</code></pre>
<p>Now, go back out to your app in the browser and refresh it. You should
see it printing: &quot;Hello Restaurant Customer&quot;.</p>
<h3>Auto Instantiation</h3>
<p>If you recall from the discussion above regarding <code>can.Construct</code>, whenever you
declare an object using <code>can.Construct</code>, it must be instantiated. Normally, you
would either directly instantiate objects using the <code>new</code> keyword, or pass the
constructor to an object that would create instances of it. <em><code>can.Component</code> is
an exception</em>.</p>
<p>All we have to do is declare the <code>can.Component</code> using its <code>extend</code> function.
Once you declare your <code>can.Component</code>, you've registered your component with CanJS.
When CanJS parses the <code>base_template.stache</code> file and encounters the
<code>&lt;restaurant-list&gt;</code> tag, it will automatically instantiate the <code>can.Component</code>
associated with it, generate the Component's view inside of its custom tag,
and bind that view to your component's scope.</p>
<p>Let's look at an image that describes how all of this works, to make it
clearer:</p>
<p><img src="../can/guides/images/2_first_component/ComponentLoadCycle.png" alt="" /></p>
<h3>Basic Anatomy of a can.Component</h3>
<p>The <code>can.Component</code> we created above had three properties.</p>
<ul>
<li><a href="#tag">tag</a>,</li>
<li><a href="#template">template</a>, and</li>
<li><a href="#scope">scope</a></li>
</ul>
<p><a name="tag"></a></p>
<h4>The &quot;tag&quot; Property</h4>
<p>The <code>can.Component</code>'s <code>tag</code> property associates that
<code>can.Component</code> with a specific, custom HTML tag:</p>
<p><img src="../can/guides/images/2_first_component/ComponentTagLinkDiagram.png" alt="" /></p>
<p>As mentioned above, when the template containing the <code>can.Component</code>'s tag is
parsed, the <code>can.Component</code> is instantiated and the contents of its rendered
template are inserted as the HTML contents of the custom tag:</p>
<p><img src="../can/guides/images/2_first_component/ComponentTagRenderedHTML.png" alt="" /></p>
<p><a name="template"></a></p>
<h4>Template</h4>
<p>The <code>template</code> property of the <code>can.Component</code> contains the string
value of the <code>can.Component</code>'s template. Note that the template property just
contains a string value. You can inline the template, if it is small. However,
the recommended way of working with templates, to maintain separation of
concerns, is to keep them in their own files and load them using <code>can.view</code>, as
we have done here.</p>
<p><a name="scope"></a></p>
<h4>Scope</h4>
<p>The <code>scope</code> object is the <code>can.Component</code>'s view model. The view
model is an abstraction of the view that exposes public properties and
functions. Any property or function defined on the scope object is available
from the <code>can.Component</code>'s template as either a Stache data key, or a function.
In our example above, we created the property <code>currentRestaurant</code> and then
referenced it as a Stache data key in our template.</p>
<p><img src="../can/guides/images/2_first_component/ComponentScopeTemplateLink.png" alt="" /></p>
<h3>can.Map &amp; can.List</h3>
<p>The <code>scope</code> is a special type of object, called a
<a href="../docs/can.Map.html">can.Map</a>. <code>can.Map</code> objects are observable. Observable objects provide a way
for you to listen for and keep track of changes to them. What this means, in
this instance, is that if you make a change to your scope, those changes will
be reflected automatically in your view. If you've cross-bound the values
between your scope and your view, changes to your view will also be reflected
in your scope. We'll see how this works in the next chapter.</p>
<p><code>can.Map</code> objects listen for changes made using their <code>attr</code> function. This is
important. In order to broadcast the associated events when you change a
property on a <code>can.Map</code>, you must use the <code>attr</code> function when setting a value.</p>
<p>The <code>attr</code> function can be used to either get or set a property on a <code>can.Map</code>.
<code>attr</code> works with deep properties&mdash;i.e., properties within properties. Here's
an example:</p>
<pre><code>// Get the first property off of the name property off of person
myCanMapInstance.attr('person.name.first');

// Set the last property of the person's name property
myCanMapInstance.attr('person.name.last', 'Bach');
</code></pre>
<p>Observable arrays are also available with <a href="can.List.html">can.List</a>, which is based on <code>can.Map</code>.</p>
<hr />
<p><span class="pull-left"><a href="ApplicationFoundations.html">&lsaquo; Application Foundations</a></span>
<span class="pull-right"><a href="MoreOnComponents.html">More on Components &rsaquo;</a></span></p>
</div>

		</section>
		
		

		
	
	
	</article>
	
	

</div>





	
	
	<footer>
		<nav class="container">
			<a class="brand" href="index.html"></a>
			<ul class='nav'>
				<li >
	              <a href="../index.html">Home</a>
	            </li>
		        <li class='active'><a href='index.html'>guides</a></li>
		        <li><a href='../docs/index.html'>api</a></li>
		        <li class="">
		          <a href="../community.html#!forums">Community</a>
		        </li>
		        <li >
	              <a href="../blog/index.html">Blog</a>
	            </li>
		        <li >
	              <a href="../download.html">Download</a>
	            </li>
            </ul>
		</nav>
	</footer>
	

    
    <script type="text/javascript">

	  var _gaq = _gaq || [];
	  _gaq.push(['_setAccount', 'UA-2302003-11']);
	  _gaq.push(['_setDomainName', 'canjs.com']);
	  _gaq.push(['_setAllowLinker', true]);
	  _gaq.push(['_trackPageview']);
	
	  (function() {
	  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
	  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
	  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	  })();
	
	</script>
	
	<script type="text/javascript">
		var docObject = {"type":"page","name":"Components","src":"guides/getting-started-tutorial/components.md","description":"","title":"Getting to Know Components","parent":"Tutorial","order":3,"disabletableofcontents":true,"comment":" ","ignoreTemplateRender":true,"templates":"/Users/akagomez/Sites/bitovi/canjs.com/theme/templates","static":"/Users/akagomez/Sites/bitovi/canjs.com/theme/static","versionsSelectText":"CanJS v<%= version %>","glob":{"pattern":"{guides/*.md,guides/**/*.md,*.md}","ignore":"{node_modules,bower_components}/**/*","cwd":"/Users/akagomez/Sites/bitovi/canjs.com/can"},"dest":"/Users/akagomez/Sites/bitovi/canjs.com/guides","generators":["html"],"urls":{"builderData":"http://bitbuilder.herokuapp.com/canjs","builder":"http://bitbuilder.herokuapp.com/can.custom.js","bithub":"http://bitovi.bithub.com/api/v1/events/","cdn":"//canjs.com/release/","github":"https://github.com/bitovi/canjs.com"},"versions":[{"branch":"master","number":"2.1"},{"number":"2.0"},{"number":"1.1"}],"defaultDownloadVersion":"2.2.4","docConfigDest":"../documentjs.json","project":{"version":"2.2","name":"canjs","source":"/Users/akagomez/Sites/bitovi/canjs"}};
	</script>
	
	
		<script>
		  steal = {
		    instantiated: {
		      "bundles/static.css!$css" : null
		    }
		  }
		</script>
		<script type='text/javascript' 
				data-main="static"
				data-config="./static/config.js"
				src="./static/steal.production.js"
		    		bundles-path="bundles"></script>
	
	
</body>

</html>